{"version":3,"sources":["components/SearchFilter.js","components/NewForm.js","components/PersonDetail.js","components/ShowNumbers.js","components/Notification.js","services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["SearchFilter","filterText","setFilterText","type","value","onChange","event","target","trim","NewForm","handleSubmit","newName","newNumber","setNewName","setNewNumber","onSubmit","PersonDetail","person","handleClick","name","number","onClick","ShowNumbers","persons","length","filter","match","RegExp","map","Notification","message","className","content","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","setMessage","useEffect","personsService","initialPersons","a","preventDefault","thePerson","find","n","clearForm","window","confirm","returnedPerson","setTimeout","catch","error","concat","returnedData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f45ed37a.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function SearchFilter({ filterText, setFilterText }) {\n  return (\n    <div>\n      filter shown with:\n      <input\n        type=\"text\"\n        value={filterText}\n        onChange={(event) => setFilterText(event.target.value.trim())}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport default function NewForm({\n  handleSubmit,\n  newName,\n  newNumber,\n  setNewName,\n  setNewNumber,\n}) {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name:{\" \"}\n        <input\n          value={newName}\n          onChange={(event) => setNewName(event.target.value)}\n        />\n        <div>\n          number:{\" \"}\n          <input\n            value={newNumber}\n            onChange={(event) => setNewNumber(event.target.value)}\n          />\n        </div>\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n}\n","import React from \"react\";\n\nexport default function PersonDetail({ person, handleClick }) {\n  return (\n    <div>\n      {\" \"}\n      {person.name} {person.number}{\" \"}\n      <button onClick={() => handleClick(person)}>delete</button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport PersonDetail from \"./PersonDetail.js\";\n\nexport default function ShowNumbers({ filterText, persons, handleClick }) {\n  const getShowNumbers = () => {\n    let result;\n    if (filterText.trim().length) {\n      result = persons\n        .filter((person) => person.name.match(new RegExp(filterText, \"i\")))\n        .map((person) => {\n          return (\n            <PersonDetail\n              handleClick={handleClick}\n              key={person.name}\n              person={person}\n            />\n          );\n        });\n    } else {\n      result = persons.map((person) => {\n        return (\n          <PersonDetail\n            handleClick={handleClick}\n            key={person.name}\n            person={person}\n          />\n        );\n      });\n    }\n\n    return result;\n  };\n  return <div>{getShowNumbers()}</div>;\n}\n","import React from \"react\";\n\nexport default function Notification({ message }) {\n  if (message === null) {\n    return null;\n  }\n\n  return (\n    <div className={`notification ${message.type}`}>{message.content}</div>\n  );\n}\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request.then((response) => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React, { useState, useEffect } from \"react\";\nimport SearchFilter from \"./components/SearchFilter.js\";\nimport NewForm from \"./components/NewForm.js\";\nimport ShowNumbers from \"./components/ShowNumbers.js\";\nimport Notification from \"./components/Notification.js\";\nimport personsService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterText, setFilterText] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personsService.getAll().then((initialPersons) => {\n      setPersons(initialPersons);\n    });\n    return () => {};\n  }, []);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const thePerson = persons.find((n) => n.name === newName);\n\n    const clearForm = () => {\n      setNewName(\"\");\n      setNewNumber(\"\");\n    };\n\n    // if (persons.some((person) => person.name === newName)) {\n\n    if (thePerson) {\n      // update person\n      if (\n        !window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        return null;\n      } else {\n        await personsService\n          .update(thePerson.id, {\n            ...thePerson,\n            number: newNumber,\n          })\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.name !== newName ? person : returnedPerson\n              )\n            );\n            clearForm();\n            setMessage({\n              content: `Updated ${returnedPerson.name}`,\n              type: \"info\",\n            });\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          })\n          .catch((error) => {\n            setMessage({\n              content: `the person '${thePerson.name}' does not exist!`,\n              type: \"error\",\n            });\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n            setPersons(persons.filter((n) => n.id !== thePerson.id));\n          });\n      }\n    } else {\n      // create person\n      await personsService\n        .create({\n          name: newName,\n          number: newNumber,\n        })\n        .then((returnedPerson) => {\n          setPersons(persons.concat([returnedPerson]));\n          clearForm();\n          setMessage({ content: `Added ${returnedPerson.name}`, type: \"info\" });\n          setTimeout(() => {\n            setMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const handleClick = async (person) => {\n    if (!window.confirm(`Delete ${person.name} ?`)) {\n      return null;\n    }\n    await personsService\n      .remove(person.id)\n      .then((returnedData) => {\n        // setPersons(persons.concat([returnedPerson]));\n        // setNewName(\"\");\n        // setNewNumber(\"\");\n        setMessage({\n          content: `Deleted ${person.name}`,\n          type: \"info\",\n        });\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n        setPersons(persons.filter((n) => n.id !== person.id));\n      })\n      .catch((error) => {\n        setMessage({\n          content: `the person '${person.name}' does not exist!`,\n          type: \"error\",\n        });\n        setTimeout(() => {\n          setMessage(null);\n        }, 5000);\n        setPersons(persons.filter((n) => n.id !== person.id));\n      });\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <SearchFilter filterText={filterText} setFilterText={setFilterText} />\n      <h2>add a new</h2>\n      <NewForm\n        handleSubmit={handleSubmit}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n      />\n      <h2>Numbers</h2>\n      <ShowNumbers\n        handleClick={handleClick}\n        filterText={filterText}\n        persons={persons}\n      />\n    </div>\n  );\n};\n\nexport default App;\n// Exercises 2.6.-2.10.\n// 2.15.-2.18.\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}